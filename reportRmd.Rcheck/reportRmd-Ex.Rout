
R version 4.4.2 (2024-10-31) -- "Pile of Leaves"
Copyright (C) 2024 The R Foundation for Statistical Computing
Platform: aarch64-apple-darwin20

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

  Natural language support but running in an English locale

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> pkgname <- "reportRmd"
> source(file.path(R.home("share"), "R", "examples-header.R"))
> options(warn = 1)
> library('reportRmd')
> 
> base::assign(".oldSearch", base::search(), pos = 'CheckExEnv')
> base::assign(".old_wd", base::getwd(), pos = 'CheckExEnv')
> cleanEx()
> nameEx("clear_labels")
> ### * clear_labels
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: clear_labels
> ### Title: Clear variable labels from a data frame
> ### Aliases: clear_labels
> 
> ### ** Examples
> 
> # Set a few variable labels for ctDNA
> data("ctDNA")
> ctDNA <- ctDNA |> set_var_labels(
+    ctdna_status="detectable ctDNA",
+   cohort="A cohort label")
> # Clear all variable data frames and check
> clear_labels(ctDNA)
# A tibble: 270 × 5
   id        cohort ctdna_status                          time size_change
   <chr>     <fct>  <fct>                                <dbl>       <dbl>
 1 INS-A-002 A      No clearance, increase from baseline  8.12         5.7
 2 INS-A-002 A      No clearance, increase from baseline 12.4         NA  
 3 INS-A-003 A      No clearance, increase from baseline  6.12        41.7
 4 INS-A-007 A      No clearance, decrease from baseline  8.83       -45.5
 5 INS-A-007 A      No clearance, decrease from baseline 16.8        -72.7
 6 INS-A-007 A      No clearance, decrease from baseline 25.8        -63.6
 7 INS-A-007 A      No clearance, decrease from baseline 37.0        -54.5
 8 INS-A-007 A      No clearance, decrease from baseline 43.3        -54.5
 9 INS-A-007 A      No clearance, decrease from baseline 49.0       -100  
10 INS-A-007 A      No clearance, decrease from baseline 60.0       -100  
# ℹ 260 more rows
> 
> 
> 
> cleanEx()
> nameEx("crrRx")
> ### * crrRx
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: crrRx
> ### Title: fit crr model
> ### Aliases: crrRx
> ### Keywords: model
> 
> ### ** Examples
> 
> # From the crr help file:
> set.seed(10)
> ftime <- rexp(200)
> fstatus <- sample(0:2,200,replace=TRUE)
> cov <- matrix(runif(600),nrow=200)
> dimnames(cov)[[2]] <- c('x1','x2','x3')
> df <- data.frame(ftime,fstatus,cov)
> m1 <- crrRx(as.formula('ftime+fstatus~x1+x2+x3'),df)
> # Nicely output to report:
> rm_mvsum(m1,data=df,showN = TRUE,vif=TRUE)
Warning: The `data` argument of `rm_mvsum()` is deprecated as of reportRmd 0.1.1.
Variance inflation factor can not be calculated
<table class="table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">  </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> HR(95%CI) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> p-value </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> N </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Event </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">x1</span> </td>
   <td style="text-align:right;"> 1.31 (0.57, 2.98) </td>
   <td style="text-align:right;"> 0.53 </td>
   <td style="text-align:right;"> 200 </td>
   <td style="text-align:right;"> 69 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">x2</span> </td>
   <td style="text-align:right;"> 0.95 (0.45, 2.00) </td>
   <td style="text-align:right;"> 0.88 </td>
   <td style="text-align:right;"> 200 </td>
   <td style="text-align:right;"> 69 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">x3</span> </td>
   <td style="text-align:right;"> 1.32 (0.63, 2.79) </td>
   <td style="text-align:right;"> 0.46 </td>
   <td style="text-align:right;"> 200 </td>
   <td style="text-align:right;"> 69 </td>
  </tr>
</tbody>
</table>> 
> 
> 
> cleanEx()
> nameEx("excelCol")
> ### * excelCol
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: excelCol
> ### Title: Retrieve columns number from spreadsheet columns specified as
> ###   unquoted letters
> ### Aliases: excelCol
> 
> ### ** Examples
> 
> ## Find the column numbers for excel columns AB, CE and BB
> excelCol(AB,CE,bb)
AB CE BB 
28 83 54 
> ## Get the columns between A and K and Z
> excelCol(A-K,Z)
 [1]  1  2  3  4  5  6  7  8  9 10 11 26
> 
> 
> 
> cleanEx()
> nameEx("excelColLetters")
> ### * excelColLetters
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: excelColLetters
> ### Title: Retrieve spreadsheet column letter-names from columns indices
> ### Aliases: excelColLetters
> 
> ### ** Examples
> 
> ## Find the column numbers for excel columns AB, CE and BB
> colIndices <- excelCol(AB,CE,bb)
> ## Go back to the column names
> excelColLetters(colIndices)
  28   83   54 
"AB" "CE" "BB" 
> 
> 
> 
> cleanEx()
> nameEx("extract_labels")
> ### * extract_labels
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: extract_labels
> ### Title: Extract variable labels from labelled data frame
> ### Aliases: extract_labels
> 
> ### ** Examples
> 
> # Set a few variable labels for ctDNA
> data("ctDNA")
> ctDNA <- ctDNA |> set_var_labels(
+    ctdna_status="detectable ctDNA",
+   cohort="A cohort label")
> # Extract labels
> extract_labels(ctDNA)
      variable                                   label
1           id                              Patient ID
2       cohort                          A cohort label
3 ctdna_status                        detectable ctDNA
4         time            Number of weeks on treatment
5  size_change Percentage change in tumour measurement
> 
> 
> 
> cleanEx()
> nameEx("extract_package_details")
> ### * extract_package_details
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: extract_package_details
> ### Title: Extract Function and Package Information from Current Document
> ### Aliases: extract_package_details
> 
> ### ** Examples
> 
> ## Not run: 
> ##D # Run this function from within an R script to analyze its dependencies
> ##D package_info <- extract_package_details()
> ##D print(package_info)
> ## End(Not run)
> 
> 
> 
> 
> cleanEx()
> nameEx("fillNAs")
> ### * fillNAs
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: fillNAs
> ### Title: Forward fill NA values (vectorized implementation)
> ### Aliases: fillNAs
> ### Keywords: internal
> 
> ### ** Examples
> 
> ## Not run: 
> ##D fillNAs(c(1, NA, NA, 2, NA, 3))  # Returns: c(1, 1, 1, 2, 2, 3)
> ## End(Not run)
> 
> 
> 
> cleanEx()
> nameEx("forestplotMV")
> ### * forestplotMV
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: forestplotMV
> ### Title: Create a multivariable forest plot using ggplot2
> ### Aliases: forestplotMV
> ### Keywords: plot
> 
> ### ** Examples
> 
> data("pembrolizumab")
> glm_fit <- glm(orr ~ change_ctdna_group + sex + age + l_size,
+                data = pembrolizumab, family = 'binomial')
> 
> # Adjusted only
> forestplotMV(glm_fit, data = pembrolizumab)
Warning: Vectorized input to `element_text()` is not officially supported.
ℹ Results may be unexpected or may change in future versions of ggplot2.
> 
> # Both adjusted and unadjusted
> forestplotMV(glm_fit, data = pembrolizumab, include_unadjusted = TRUE)
Fitting univariate models for each predictor
Note: Adjusted model N=73 may differ from unadjusted model N=94 due to missing data in covariates
Warning: Vectorized input to `element_text()` is not officially supported.
ℹ Results may be unexpected or may change in future versions of ggplot2.
> 
> 
> 
> cleanEx()
> nameEx("forestplotUV")
> ### * forestplotUV
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: forestplotUV
> ### Title: Create an univariable forest plot using ggplot2
> ### Aliases: forestplotUV
> ### Keywords: plot
> 
> ### ** Examples
> 
> data("pembrolizumab")
> forestplotUV(response = "orr",
+              covs = c("change_ctdna_group", "sex", "age", "l_size"),
+              data = pembrolizumab, family = 'binomial')
Warning: Vectorized input to `element_text()` is not officially supported.
ℹ Results may be unexpected or may change in future versions of ggplot2.
> 
> 
> 
> cleanEx()
> nameEx("formatp")
> ### * formatp
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: formatp
> ### Title: Format p-values for tables (HTML/LaTeX)
> ### Aliases: formatp
> ### Keywords: helper
> 
> ### ** Examples
> 
> ## Not run: 
> ##D formatp(c(0.0001, 0.045, 0.123))
> ##D # Returns: c("<0.001", "0.045", "0.12")
> ## End(Not run)
> 
> 
> 
> cleanEx()
> nameEx("ggkmcif")
> ### * ggkmcif
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: ggkmcif
> ### Title: Plot KM and CIF curves with ggplot
> ### Aliases: ggkmcif
> 
> ### ** Examples
> 
> data("pembrolizumab")
> # Simple plot without confidence intervals
> ggkmcif(response = c('os_time','os_status'),
+ cov='cohort',
+ data=pembrolizumab)
Warning: `ggkmcif()` was deprecated in reportRmd 0.1.2.
ℹ Please use `ggkmcif2()` instead.
ℹ Please update your code to use ggkmcif2()
ℹ ggkmcif will be removed in future versions of reportRmd
Warning: Removed 5 rows containing missing values or values outside the scale range
(`geom_text()`).
> 
> # Plot with median survival time
> ggkmcif(response = c('os_time','os_status'),
+ cov='sex',
+ data=pembrolizumab,
+ median.text = TRUE,median.lines=TRUE,conf.curves=TRUE)
Warning: Removed 2 rows containing missing values or values outside the scale range
(`geom_text()`).
> 
> # Plot with specified survival times and log-log CI
> ggkmcif(response = c('os_time','os_status'),
+ cov='sex',
+ data=pembrolizumab,
+ median.text = FALSE,set.time.text = 'mo OS',
+ set.time = c(12,24),conf.type = 'log-log',conf.curves=TRUE)
Warning: Removed 2 rows containing missing values or values outside the scale range
(`geom_text()`).
> 
> # KM plot with 95% CI and censor marks
> ggkmcif(c('os_time','os_status'),'sex',data = pembrolizumab, type = 'KM',
+ HR=TRUE, HR_pval = TRUE, conf.curves = TRUE,conf.type='log-log',
+ set.time.CI = TRUE, censor.marks=TRUE)
Warning: Removed 2 rows containing missing values or values outside the scale range
(`geom_text()`).
> 
> 
> 
> cleanEx()
> nameEx("ggkmcif2_2025")
> ### * ggkmcif2_2025
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: ggkmcif2_2025
> ### Title: Plot KM and CIF curves with ggplot
> ### Aliases: ggkmcif2_2025
> 
> ### ** Examples
> 
> # Simple plot without confidence intervals
> data("pembrolizumab")
> ggkmcif2(response = c('os_time','os_status'),
+ cov='cohort',
+ data=pembrolizumab)
Warning: Vectorized input to `element_text()` is not officially supported.
ℹ Results may be unexpected or may change in future versions of ggplot2.
> 
> # Plot with median survival time
> ggkmcif2(response = c('os_time','os_status'),
+ cov='sex',
+ data=pembrolizumab,
+ median.text = TRUE,median.lines=TRUE,conf.curves=TRUE)
Warning: Vectorized input to `element_text()` is not officially supported.
ℹ Results may be unexpected or may change in future versions of ggplot2.
> 
> # Plot with specified survival times and log-log CI
> ggkmcif2(response = c('os_time','os_status'),
+ cov='sex',
+ data=pembrolizumab,
+ median.text = FALSE,set.time.text = 'mo OS',
+ set.time = c(12,24),conf.type = 'log-log',conf.curves=TRUE)
Warning: Vectorized input to `element_text()` is not officially supported.
ℹ Results may be unexpected or may change in future versions of ggplot2.
> 
> # KM plot with 95% CI and censor marks
> ggkmcif2(c('os_time','os_status'),'sex',data = pembrolizumab, type = 'KM',
+ HR=TRUE, HR_pval = TRUE, conf.curves = TRUE,conf.type='log-log',
+ set.time.CI = TRUE, censor.marks=TRUE)
Warning: Vectorized input to `element_text()` is not officially supported.
ℹ Results may be unexpected or may change in future versions of ggplot2.
> 
> 
> 
> cleanEx()
> nameEx("ggkmcif_paste")
> ### * ggkmcif_paste
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: ggkmcif_paste
> ### Title: Plot KM and CIF curves with ggplot
> ### Aliases: ggkmcif_paste
> 
> ### ** Examples
> 
> data("pembrolizumab")
> plot <- ggkmcif(response=c('pfs_time','pfs_status'),
+ data=pembrolizumab,returns = TRUE)
Warning: Removed 1 row containing missing values or values outside the scale range
(`geom_text()`).
> 
> # Highlighting a section of the curve
> plot[[1]] <- plot[[1]] +
+ ggplot2::geom_rect(xmin=4,xmax=8,ymin=0.15,ymax=0.4,alpha=0.01,fill='yellow')
> 
> # Putting the curve back together
> ggkmcif_paste(plot)
Warning: `ggkmcif_paste()` was deprecated in reportRmd 0.1.0.
ℹ Please use `ggkmcif2()` instead.
Warning: Removed 1 row containing missing values or values outside the scale range
(`geom_text()`).
> 
> 
> 
> cleanEx()
> nameEx("lpvalue2")
> ### * lpvalue2
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: lpvalue2
> ### Title: Format p-values for plot annotations
> ### Aliases: lpvalue2
> ### Keywords: helper
> 
> ### ** Examples
> 
> ## Not run: 
> ##D lpvalue2(0.0001, 3)  # Returns: "p < 0.001"
> ##D lpvalue2(0.0456, 3)  # Returns: "p = 0.046"
> ## End(Not run)
> 
> 
> 
> cleanEx()
> nameEx("m_summary")
> ### * m_summary
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: m_summary
> ### Title: Output a table for multivariate or univariate regression models
> ### Aliases: m_summary
> ### Keywords: internal
> 
> ### ** Examples
> 
> ## Not run: 
> ##D data("pembrolizumab")
> ##D uv_lm <- lm(age~sex,data=pembrolizumab)
> ##D m_summary(uv_lm, digits = 3, for_plot = FALSE)
> ##D 
> ##D mv_binom <- glm(orr~age+sex+cohort,family = 'binomial',data = pembrolizumab)
> ##D m_summary(mv_binom, whichp = "both", for_plot = TRUE)
> ## End(Not run)
> 
> 
> 
> cleanEx()
> nameEx("nestTable")
> ### * nestTable
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: nestTable
> ### Title: Combine two table columns into a single column with levels of
> ###   one nested within levels of the other.
> ### Aliases: nestTable
> 
> ### ** Examples
> 
> ## Investigate models to predict baseline ctDNA and tumour size and display together
> ## (not clinically useful!)
> data(pembrolizumab)
> fit1 <- lm(baseline_ctdna~age+l_size+pdl1,data=pembrolizumab)
> m1 <- rm_mvsum(fit1,tableOnly=TRUE)
> m1$Response = 'ctDNA'
> fit2 <- lm(l_size~age+baseline_ctdna+pdl1,data=pembrolizumab)
> m2 <- rm_mvsum(fit2,tableOnly=TRUE)
> m2$Response = 'Tumour Size'
> nestTable(rbind(m1,m2),head_col='Response',to_col='Covariate')
<table class="table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">  </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Estimate(95%CI) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> p-value </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> N </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> VIF </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">ctDNA</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Age at study entry </td>
   <td style="text-align:right;"> 0.99 (-10.15, 12.13) </td>
   <td style="text-align:right;"> 0.86 </td>
   <td style="text-align:right;"> 93 </td>
   <td style="text-align:right;"> 1.03 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Target lesion size at baseline </td>
   <td style="text-align:right;"> 1.00 (-1.43, 3.43) </td>
   <td style="text-align:right;"> 0.41 </td>
   <td style="text-align:right;"> 93 </td>
   <td style="text-align:right;"> 1.06 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> PD L1 percent </td>
   <td style="text-align:right;"> -3.08 (-8.00, 1.83) </td>
   <td style="text-align:right;"> 0.22 </td>
   <td style="text-align:right;"> 93 </td>
   <td style="text-align:right;"> 1.05 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Tumour Size</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Age at study entry </td>
   <td style="text-align:right;"> -0.69 (-1.64, 0.26) </td>
   <td style="text-align:right;"> 0.15 </td>
   <td style="text-align:right;"> 93 </td>
   <td style="text-align:right;"> 1.01 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> PD L1 percent </td>
   <td style="text-align:right;"> -0.38 (-0.80, 0.04) </td>
   <td style="text-align:right;"> 0.076 </td>
   <td style="text-align:right;"> 93 </td>
   <td style="text-align:right;"> 1.03 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Baseline ctDNA </td>
   <td style="text-align:right;"> 7.5e-03 (-0.01, 0.03) </td>
   <td style="text-align:right;"> 0.41 </td>
   <td style="text-align:right;"> 93 </td>
   <td style="text-align:right;"> 1.02 </td>
  </tr>
</tbody>
</table>> 
> 
> 
> cleanEx()
> nameEx("niceNum")
> ### * niceNum
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: niceNum
> ### Title: Round numbers with trailing zeros
> ### Aliases: niceNum
> ### Keywords: helper
> 
> ### ** Examples
> 
> ## Not run: 
> ##D niceNum(c(1.5, 2.345, NA), digits = 2)
> ##D # Returns: c("1.50", "2.35", NA)
> ## End(Not run)
> 
> 
> 
> cleanEx()
> nameEx("plotuv")
> ### * plotuv
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: plotuv
> ### Title: Plot multiple bivariate relationships in a single plot
> ### Aliases: plotuv
> ### Keywords: plot
> 
> ### ** Examples
> 
> ## Run multiple univariate analyses on the pembrolizumab dataset to predict cbr and
> ## then visualise the relationships.
> data("pembrolizumab")
> rm_uvsum(data=pembrolizumab,
+ response='cbr',covs=c('age','sex','l_size','baseline_ctdna'))
<table class="table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">  </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> OR(95%CI) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> p-value </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> N </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Event </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Age at study entry</span> </td>
   <td style="text-align:right;"> 0.98 (0.94, 1.02) </td>
   <td style="text-align:right;"> 0.27 </td>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;"> 70 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Patient Sex</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;"> 70 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Female </td>
   <td style="text-align:right;"> Reference </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 58 </td>
   <td style="text-align:right;"> 46 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Male </td>
   <td style="text-align:right;"> 0.52 (0.20, 1.34) </td>
   <td style="text-align:right;"> 0.17 </td>
   <td style="text-align:right;"> 36 </td>
   <td style="text-align:right;"> 24 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Target lesion size at baseline</span> </td>
   <td style="text-align:right;"> 1.00 (0.99, 1.01) </td>
   <td style="text-align:right;"> 0.96 </td>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;"> 70 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Baseline ctDNA</span> </td>
   <td style="text-align:right;"> 1.00 (1.00, 1.00) </td>
   <td style="text-align:right;"> 0.78 </td>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;"> 70 </td>
  </tr>
</tbody>
</table>> plotuv(data=pembrolizumab,  response='cbr',
+ covs=c('age','sex','l_size','baseline_ctdna'),showN=TRUE)
Warning: `stat(count)` was deprecated in ggplot2 3.4.0.
ℹ Please use `after_stat(count)` instead.
ℹ The deprecated feature was likely used in the reportRmd package.
  Please report the issue to the authors.
> 
> 
> 
> cleanEx()
> nameEx("psthr")
> ### * psthr
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: psthr
> ### Title: Round and paste with parentheses (smart formatting)
> ### Aliases: psthr
> ### Keywords: helper
> 
> ### ** Examples
> 
> ## Not run: 
> ##D psthr(c(1.234, 1.123, 1.345), 2)
> ##D # Returns: "1.23 (1.12, 1.35)"
> ##D psthr(c(0.001, 0.0005, 0.0015), 2)
> ##D # Returns: "1.0e-03 (5.0e-04, 1.5e-03)"
> ## End(Not run)
> 
> 
> 
> cleanEx()
> nameEx("pstprn")
> ### * pstprn
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: pstprn
> ### Title: Paste vector elements with parentheses
> ### Aliases: pstprn
> ### Keywords: helper
> 
> ### ** Examples
> 
> ## Not run: 
> ##D pstprn(c(1.5, 1.2, 1.8))
> ##D # Returns: "1.5 (1.2, 1.8)"
> ## End(Not run)
> 
> 
> 
> cleanEx()
> nameEx("replace_plot_labels")
> ### * replace_plot_labels
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: replace_plot_labels
> ### Title: Replace variable names with labels in ggplot
> ### Aliases: replace_plot_labels
> 
> ### ** Examples
> 
> ## Not run: 
> ##D data("pembrolizumab")
> ##D p <- ggplot(pembrolizumab,aes(x=change_ctdna_group,y=baseline_ctdna)) +
> ##D geom_boxplot()
> ##D replace_plot_labels(p)
> ##D pembrolizumab <- set_var_labels(pembrolizumab,
> ##D change_ctdna_group="Change in ctDNA group")
> ##D p <- ggplot(pembrolizumab,aes(x=change_ctdna_group,y=baseline_ctdna)) +
> ##D geom_boxplot()
> ##D replace_plot_labels(p)
> ##D # Can also be used with a pipe, but expression needs to be wrapped in a brace
> ##D (ggplot(pembrolizumab,aes(x=change_ctdna_group,y=baseline_ctdna)) +
> ##D geom_boxplot()) |> replace_plot_labels()
> ## End(Not run)
> 
> 
> 
> cleanEx()
> nameEx("rm_cifsum")
> ### * rm_cifsum
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: rm_cifsum
> ### Title: Summarize cumulative incidence by group
> ### Aliases: rm_cifsum
> 
> ### ** Examples
> 
> library(survival)
> data(pbc)
> 
> # Event probabilities at various time points with replacement time labels
> rm_cifsum(data=pbc,time='time',status='status',
+ eventtimes=c(1825,3650),eventtimeLbls=c(5,10),eventtimeunit='yr')
<table class="table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> Event/Total </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> 5yr (95% CI) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> 10yr (95% CI) </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> 25/418 </td>
   <td style="text-align:right;"> 0.04 (0.03, 0.07) </td>
   <td style="text-align:right;"> 0.08 (0.05, 0.12) </td>
  </tr>
</tbody>
</table>> 
> # Event probabilities by one group
> rm_cifsum(data=pbc,time='time',status='status',group='trt',
+ eventtimes=c(1825,3650),eventtimeunit='day')
106 observations with missing data were removed.
<table class="table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> Strata </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Event/Total </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> 1825day (95% CI) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> 3650day (95% CI) </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> 1 </td>
   <td style="text-align:right;"> 10/158 </td>
   <td style="text-align:right;"> 0.05 (0.02, 0.09) </td>
   <td style="text-align:right;"> 0.08 (0.04, 0.13) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2 </td>
   <td style="text-align:right;"> 9/154 </td>
   <td style="text-align:right;"> 0.04 (0.02, 0.08) </td>
   <td style="text-align:right;"> 0.08 (0.04, 0.15) </td>
  </tr>
  <tr>
   <td style="text-align:left;">  </td>
   <td style="text-align:right;"> Gray's Test </td>
   <td style="text-align:right;"> ChiSq </td>
   <td style="text-align:right;"> 0.0 on 1 df </td>
  </tr>
  <tr>
   <td style="text-align:left;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> p-value </td>
   <td style="text-align:right;"> 0.89 </td>
  </tr>
</tbody>
</table>> 
> 
> # Event probabilities by multiple groups
> rm_cifsum(data=pbc,time='time',status='status',group=c('trt','sex'),
+ eventtimes=c(1825,3650),eventtimeunit='day')
106 observations with missing data were removed.
<table class="table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> Strata </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Event/Total </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> 1825day (95% CI) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> 3650day (95% CI) </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> 1, f </td>
   <td style="text-align:right;"> 7/137 </td>
   <td style="text-align:right;"> 0.04 (0.01, 0.08) </td>
   <td style="text-align:right;"> 0.06 (0.03, 0.12) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 1, m </td>
   <td style="text-align:right;"> 3/21 </td>
   <td style="text-align:right;"> 0.10 (0.02, 0.27) </td>
   <td style="text-align:right;"> 0.16 (0.03, 0.36) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2, f </td>
   <td style="text-align:right;"> 9/139 </td>
   <td style="text-align:right;"> 0.05 (0.02, 0.09) </td>
   <td style="text-align:right;"> 0.09 (0.04, 0.17) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 2, m </td>
   <td style="text-align:right;"> 0/15 </td>
   <td style="text-align:right;"> 0e+00 (NA, NA) </td>
   <td style="text-align:right;"> 0e+00 (NA, NA) </td>
  </tr>
  <tr>
   <td style="text-align:left;">  </td>
   <td style="text-align:right;"> Gray's Test </td>
   <td style="text-align:right;"> ChiSq </td>
   <td style="text-align:right;"> 3.3 on 3 df </td>
  </tr>
  <tr>
   <td style="text-align:left;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> p-value </td>
   <td style="text-align:right;"> 0.35 </td>
  </tr>
</tbody>
</table>> 
> 
> 
> 
> cleanEx()

detaching ‘package:survival’

> nameEx("rm_compactsum")
> ### * rm_compactsum
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: rm_compactsum
> ### Title: Output a compact summary table
> ### Aliases: rm_compactsum
> 
> ### ** Examples
> 
> data("pembrolizumab")
> rm_compactsum(data = pembrolizumab, xvars = c("age",
+ "change_ctdna_group", "l_size", "pdl1"), grp = "sex", use_mean = "age",
+ digits = c("age" = 2, "l_size" = 3), digits.cat = 1, iqr = TRUE,
+ show.tests = TRUE)
<table class="table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">  </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Full Sample (n=94) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Female (n=58) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Male (n=36) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> p-value </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Missing </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> pTest </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Age at study entry</span> </td>
   <td style="text-align:right;"> 57.86 (12.75) </td>
   <td style="text-align:right;"> 56.95 (12.59) </td>
   <td style="text-align:right;"> 59.32 (13.05) </td>
   <td style="text-align:right;"> 0.39 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> t-test </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Did ctDNA increase or decrease from baseline to cycle 3 - Increase from baseline</span> </td>
   <td style="text-align:right;"> 40 (54.8%) </td>
   <td style="text-align:right;"> 21 (52.5%) </td>
   <td style="text-align:right;"> 19 (57.6%) </td>
   <td style="text-align:right;"> 0.84 </td>
   <td style="text-align:right;"> 21 </td>
   <td style="text-align:right;"> ChiSq </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Target lesion size at baseline</span> </td>
   <td style="text-align:right;"> 73.500 (49.250-108.750) </td>
   <td style="text-align:right;"> 68.000 (44.250-97.750) </td>
   <td style="text-align:right;"> 93.000 (65.500-121.000) </td>
   <td style="text-align:right;"> 0.066 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> Wilcoxon Rank Sum </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">PD L1 percent</span> </td>
   <td style="text-align:right;"> 0.0 (0.0-10.0) </td>
   <td style="text-align:right;"> 0.5 (0.0-13.8) </td>
   <td style="text-align:right;"> 0.0 (0.0-4.5) </td>
   <td style="text-align:right;"> 0.76 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> Wilcoxon Rank Sum </td>
  </tr>
</tbody>
</table>> 
> # Other Examples (not run)
> ## Include the summary statistic in the variable column
> #rm_compactsum(data = pembrolizumab, xvars = c("age",
> #"change_ctdna_group"), grp = "sex", use_mean = "age", show.sumstats=TRUE)
> 
> ## To show effect sizes
> #rm_compactsum(data = pembrolizumab, xvars = c("age",
> #"change_ctdna_group"), grp = "sex", use_mean = "age", digits = 2,
> #effSize = TRUE, show.tests = TRUE)
> 
> ## To return unformatted p-values
> #rm_compactsum(data = pembrolizumab, xvars = c("l_size",
> #"change_ctdna_group"), grp = "cohort", effSize = TRUE, unformattedp = TRUE)
> 
> ## Using tidyselect
> #pembrolizumab |> rm_compactsum(xvars = c(age, sex, pdl1), grp = cohort,
> #effSize = TRUE)
> 
> 
> 
> 
> cleanEx()
> nameEx("rm_covsum")
> ### * rm_covsum
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: rm_covsum
> ### Title: Outputs a descriptive covariate table
> ### Aliases: rm_covsum
> ### Keywords: dataframe
> 
> ### ** Examples
> 
> data("pembrolizumab")
> rm_covsum(data=pembrolizumab, maincov = 'orr',
+ covs=c('age','sex','pdl1','tmb','l_size','change_ctdna_group'),
+ show.tests=TRUE)
<table class="table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">  </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Full Sample (n=94) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> CR/PR (n=16) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> SD/PD (n=78) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> p-value </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> StatTest </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Age at study entry</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 0.079 </td>
   <td style="text-align:right;"> Wilcoxon Rank Sum </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Mean (sd) </td>
   <td style="text-align:right;"> 57.9 (12.8) </td>
   <td style="text-align:right;"> 62.9 (12.6) </td>
   <td style="text-align:right;"> 56.8 (12.6) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Median (Min,Max) </td>
   <td style="text-align:right;"> 59.1 (21.1, 81.8) </td>
   <td style="text-align:right;"> 68.3 (34.1, 81.8) </td>
   <td style="text-align:right;"> 57.5 (21.1, 78.2) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Patient Sex</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 0.18 </td>
   <td style="text-align:right;"> Chi Sq </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Female </td>
   <td style="text-align:right;"> 58 (62) </td>
   <td style="text-align:right;"> 7 (44) </td>
   <td style="text-align:right;"> 51 (65) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Male </td>
   <td style="text-align:right;"> 36 (38) </td>
   <td style="text-align:right;"> 9 (56) </td>
   <td style="text-align:right;"> 27 (35) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">PD L1 percent</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> <span style="font-weight: bold;">0.019</span> </td>
   <td style="text-align:right;"> Wilcoxon Rank Sum </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Mean (sd) </td>
   <td style="text-align:right;"> 13.9 (29.2) </td>
   <td style="text-align:right;"> 43.3 (46.8) </td>
   <td style="text-align:right;"> 7.8 (19.6) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Median (Min,Max) </td>
   <td style="text-align:right;"> 0 (0, 100) </td>
   <td style="text-align:right;"> 16 (0, 100) </td>
   <td style="text-align:right;"> 0 (0, 95) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Missing </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">log of TMB</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> <span style="font-weight: bold;">&lt;0.001</span> </td>
   <td style="text-align:right;"> Wilcoxon Rank Sum </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Mean (sd) </td>
   <td style="text-align:right;"> 0.9 (1.0) </td>
   <td style="text-align:right;"> 1.9 (1.5) </td>
   <td style="text-align:right;"> 0.7 (0.7) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Median (Min,Max) </td>
   <td style="text-align:right;"> 0.7 (-0.8, 5.2) </td>
   <td style="text-align:right;"> 1.9 (-0.8, 5.2) </td>
   <td style="text-align:right;"> 0.6 (-0.6, 3.2) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Target lesion size at baseline</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 0.11 </td>
   <td style="text-align:right;"> Wilcoxon Rank Sum </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Mean (sd) </td>
   <td style="text-align:right;"> 87.9 (59.6) </td>
   <td style="text-align:right;"> 71.7 (51.3) </td>
   <td style="text-align:right;"> 91.3 (60.9) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Median (Min,Max) </td>
   <td style="text-align:right;"> 73.5 (11.0, 387.0) </td>
   <td style="text-align:right;"> 64 (11, 241) </td>
   <td style="text-align:right;"> 77 (12, 387) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Did ctDNA increase or decrease from baseline to cycle 3</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> <span style="font-weight: bold;">&lt;0.001</span> </td>
   <td style="text-align:right;"> Fisher Exact </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Decrease from baseline </td>
   <td style="text-align:right;"> 33 (45) </td>
   <td style="text-align:right;"> 14 (93) </td>
   <td style="text-align:right;"> 19 (33) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Increase from baseline </td>
   <td style="text-align:right;"> 40 (55) </td>
   <td style="text-align:right;"> 1 (7) </td>
   <td style="text-align:right;"> 39 (67) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Missing </td>
   <td style="text-align:right;"> 21 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 20 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
</tbody>
</table>> 
> # To Show Effect Sizes
> rm_covsum(data=pembrolizumab, maincov = 'orr',
+ covs=c('age','sex'),
+ effSize=TRUE)
<table class="table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">  </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Full Sample (n=94) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> CR/PR (n=16) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> SD/PD (n=78) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> p-value </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Effect Size </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Age at study entry</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 0.079 </td>
   <td style="text-align:right;"> 0.18 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Mean (sd) </td>
   <td style="text-align:right;"> 57.9 (12.8) </td>
   <td style="text-align:right;"> 62.9 (12.6) </td>
   <td style="text-align:right;"> 56.8 (12.6) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Median (Min,Max) </td>
   <td style="text-align:right;"> 59.1 (21.1, 81.8) </td>
   <td style="text-align:right;"> 68.3 (34.1, 81.8) </td>
   <td style="text-align:right;"> 57.5 (21.1, 78.2) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Patient Sex</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 0.18 </td>
   <td style="text-align:right;"> 0.14 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Female </td>
   <td style="text-align:right;"> 58 (62) </td>
   <td style="text-align:right;"> 7 (44) </td>
   <td style="text-align:right;"> 51 (65) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Male </td>
   <td style="text-align:right;"> 36 (38) </td>
   <td style="text-align:right;"> 9 (56) </td>
   <td style="text-align:right;"> 27 (35) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
</tbody>
</table>> 
> # To make custom changes or change the fontsize in PDF/HTML
> tab <- rm_covsum(data=pembrolizumab,maincov = 'change_ctdna_group',
+ covs=c('age','sex','pdl1','tmb','l_size'),show.tests=TRUE,tableOnly = TRUE)
Warning in wilcox.test.default(x = DATA[[1L]], y = DATA[[2L]], ...) :
  cannot compute exact p-value with ties
Warning in wilcox.test.default(x = DATA[[1L]], y = DATA[[2L]], ...) :
  cannot compute exact p-value with ties
> outTable(tab, fontsize=7)
<table class="table table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto; font-size: 7px; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> Covariate </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Full Sample (n=73) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Decrease from baseline (n=33) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Increase from baseline (n=40) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> p-value </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> StatTest </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Age at study entry</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 0.083 </td>
   <td style="text-align:right;"> Wilcoxon Rank Sum </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Mean (sd) </td>
   <td style="text-align:right;"> 57.9 (13.4) </td>
   <td style="text-align:right;"> 61.2 (11.6) </td>
   <td style="text-align:right;"> 55.2 (14.3) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Median (Min,Max) </td>
   <td style="text-align:right;"> 59.5 (21.1, 81.8) </td>
   <td style="text-align:right;"> 65.1 (34.1, 78.2) </td>
   <td style="text-align:right;"> 57.0 (21.1, 81.8) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Patient Sex</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 0.84 </td>
   <td style="text-align:right;"> Chi Sq </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Female </td>
   <td style="text-align:right;"> 40 (55) </td>
   <td style="text-align:right;"> 19 (58) </td>
   <td style="text-align:right;"> 21 (52) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Male </td>
   <td style="text-align:right;"> 33 (45) </td>
   <td style="text-align:right;"> 14 (42) </td>
   <td style="text-align:right;"> 19 (48) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">PD L1 percent</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 0.26 </td>
   <td style="text-align:right;"> Wilcoxon Rank Sum </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Mean (sd) </td>
   <td style="text-align:right;"> 15.1 (30.9) </td>
   <td style="text-align:right;"> 23.3 (38.1) </td>
   <td style="text-align:right;"> 8.3 (21.8) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Median (Min,Max) </td>
   <td style="text-align:right;"> 1 (0, 100) </td>
   <td style="text-align:right;"> 1 (0, 100) </td>
   <td style="text-align:right;"> 0.5 (0.0, 95.0) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">log of TMB</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 0.42 </td>
   <td style="text-align:right;"> Wilcoxon Rank Sum </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Mean (sd) </td>
   <td style="text-align:right;"> 1.0 (1.1) </td>
   <td style="text-align:right;"> 1.2 (1.3) </td>
   <td style="text-align:right;"> 0.8 (0.7) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Median (Min,Max) </td>
   <td style="text-align:right;"> 0.7 (-0.8, 5.2) </td>
   <td style="text-align:right;"> 0.8 (-0.5, 5.2) </td>
   <td style="text-align:right;"> 0.7 (-0.8, 3.2) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Target lesion size at baseline</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 0.33 </td>
   <td style="text-align:right;"> Wilcoxon Rank Sum </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Mean (sd) </td>
   <td style="text-align:right;"> 85.9 (59.9) </td>
   <td style="text-align:right;"> 84.1 (71.0) </td>
   <td style="text-align:right;"> 87.4 (49.8) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Median (Min,Max) </td>
   <td style="text-align:right;"> 73 (11, 387) </td>
   <td style="text-align:right;"> 64 (11, 387) </td>
   <td style="text-align:right;"> 76.5 (15.0, 267.0) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
</tbody>
</table>> 
> # To return unformatted p-values
> tab <- rm_covsum(data=pembrolizumab, maincov = 'orr',
+ covs=c('age','sex','pdl1','tmb','l_size','change_ctdna_group'),
+ show.tests=TRUE,unformattedp=TRUE,tableOnly=TRUE)
> outTable(tab,digits=5)
<table class="table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> Covariate </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Full Sample (n=94) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> CR/PR (n=16) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> SD/PD (n=78) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> p-value </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> StatTest </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Age at study entry</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 0.0791626816934507 </td>
   <td style="text-align:right;"> Wilcoxon Rank Sum </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Mean (sd) </td>
   <td style="text-align:right;"> 57.9 (12.8) </td>
   <td style="text-align:right;"> 62.9 (12.6) </td>
   <td style="text-align:right;"> 56.8 (12.6) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Median (Min,Max) </td>
   <td style="text-align:right;"> 59.1 (21.1, 81.8) </td>
   <td style="text-align:right;"> 68.3 (34.1, 81.8) </td>
   <td style="text-align:right;"> 57.5 (21.1, 78.2) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Patient Sex</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 0.180454582964819 </td>
   <td style="text-align:right;"> Chi Sq </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Female </td>
   <td style="text-align:right;"> 58 (62) </td>
   <td style="text-align:right;"> 7 (44) </td>
   <td style="text-align:right;"> 51 (65) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Male </td>
   <td style="text-align:right;"> 36 (38) </td>
   <td style="text-align:right;"> 9 (56) </td>
   <td style="text-align:right;"> 27 (35) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">PD L1 percent</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> <span style="font-weight: bold;">0.0188835157205085</span> </td>
   <td style="text-align:right;"> Wilcoxon Rank Sum </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Mean (sd) </td>
   <td style="text-align:right;"> 13.9 (29.2) </td>
   <td style="text-align:right;"> 43.3 (46.8) </td>
   <td style="text-align:right;"> 7.8 (19.6) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Median (Min,Max) </td>
   <td style="text-align:right;"> 0 (0, 100) </td>
   <td style="text-align:right;"> 16 (0, 100) </td>
   <td style="text-align:right;"> 0 (0, 95) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Missing </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">log of TMB</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> <span style="font-weight: bold;">0.000454724186497012</span> </td>
   <td style="text-align:right;"> Wilcoxon Rank Sum </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Mean (sd) </td>
   <td style="text-align:right;"> 0.9 (1.0) </td>
   <td style="text-align:right;"> 1.9 (1.5) </td>
   <td style="text-align:right;"> 0.7 (0.7) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Median (Min,Max) </td>
   <td style="text-align:right;"> 0.7 (-0.8, 5.2) </td>
   <td style="text-align:right;"> 1.9 (-0.8, 5.2) </td>
   <td style="text-align:right;"> 0.6 (-0.6, 3.2) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Target lesion size at baseline</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 0.114163892248467 </td>
   <td style="text-align:right;"> Wilcoxon Rank Sum </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Mean (sd) </td>
   <td style="text-align:right;"> 87.9 (59.6) </td>
   <td style="text-align:right;"> 71.7 (51.3) </td>
   <td style="text-align:right;"> 91.3 (60.9) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Median (Min,Max) </td>
   <td style="text-align:right;"> 73.5 (11.0, 387.0) </td>
   <td style="text-align:right;"> 64 (11, 241) </td>
   <td style="text-align:right;"> 77 (12, 387) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Did ctDNA increase or decrease from baseline to cycle 3</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> <span style="font-weight: bold;">2.323456581289e-05</span> </td>
   <td style="text-align:right;"> Fisher Exact </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Decrease from baseline </td>
   <td style="text-align:right;"> 33 (45) </td>
   <td style="text-align:right;"> 14 (93) </td>
   <td style="text-align:right;"> 19 (33) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Increase from baseline </td>
   <td style="text-align:right;"> 40 (55) </td>
   <td style="text-align:right;"> 1 (7) </td>
   <td style="text-align:right;"> 39 (67) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Missing </td>
   <td style="text-align:right;"> 21 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 20 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
</tbody>
</table>> outTable(tab,digits=5, applyAttributes=FALSE) # remove bold/indent
<table class="table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> Covariate </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Full Sample (n=94) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> CR/PR (n=16) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> SD/PD (n=78) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> p-value </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> StatTest </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Age at study entry </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 0.0791626816934507 </td>
   <td style="text-align:right;"> Wilcoxon Rank Sum </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Mean (sd) </td>
   <td style="text-align:right;"> 57.9 (12.8) </td>
   <td style="text-align:right;"> 62.9 (12.6) </td>
   <td style="text-align:right;"> 56.8 (12.6) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Median (Min,Max) </td>
   <td style="text-align:right;"> 59.1 (21.1, 81.8) </td>
   <td style="text-align:right;"> 68.3 (34.1, 81.8) </td>
   <td style="text-align:right;"> 57.5 (21.1, 78.2) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Patient Sex </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 0.180454582964819 </td>
   <td style="text-align:right;"> Chi Sq </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Female </td>
   <td style="text-align:right;"> 58 (62) </td>
   <td style="text-align:right;"> 7 (44) </td>
   <td style="text-align:right;"> 51 (65) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:right;"> 36 (38) </td>
   <td style="text-align:right;"> 9 (56) </td>
   <td style="text-align:right;"> 27 (35) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> PD L1 percent </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 0.0188835157205085 </td>
   <td style="text-align:right;"> Wilcoxon Rank Sum </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Mean (sd) </td>
   <td style="text-align:right;"> 13.9 (29.2) </td>
   <td style="text-align:right;"> 43.3 (46.8) </td>
   <td style="text-align:right;"> 7.8 (19.6) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Median (Min,Max) </td>
   <td style="text-align:right;"> 0 (0, 100) </td>
   <td style="text-align:right;"> 16 (0, 100) </td>
   <td style="text-align:right;"> 0 (0, 95) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Missing </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> log of TMB </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 0.000454724186497012 </td>
   <td style="text-align:right;"> Wilcoxon Rank Sum </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Mean (sd) </td>
   <td style="text-align:right;"> 0.9 (1.0) </td>
   <td style="text-align:right;"> 1.9 (1.5) </td>
   <td style="text-align:right;"> 0.7 (0.7) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Median (Min,Max) </td>
   <td style="text-align:right;"> 0.7 (-0.8, 5.2) </td>
   <td style="text-align:right;"> 1.9 (-0.8, 5.2) </td>
   <td style="text-align:right;"> 0.6 (-0.6, 3.2) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Target lesion size at baseline </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 0.114163892248467 </td>
   <td style="text-align:right;"> Wilcoxon Rank Sum </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Mean (sd) </td>
   <td style="text-align:right;"> 87.9 (59.6) </td>
   <td style="text-align:right;"> 71.7 (51.3) </td>
   <td style="text-align:right;"> 91.3 (60.9) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Median (Min,Max) </td>
   <td style="text-align:right;"> 73.5 (11.0, 387.0) </td>
   <td style="text-align:right;"> 64 (11, 241) </td>
   <td style="text-align:right;"> 77 (12, 387) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Did ctDNA increase or decrease from baseline to cycle 3 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 2.323456581289e-05 </td>
   <td style="text-align:right;"> Fisher Exact </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Decrease from baseline </td>
   <td style="text-align:right;"> 33 (45) </td>
   <td style="text-align:right;"> 14 (93) </td>
   <td style="text-align:right;"> 19 (33) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Increase from baseline </td>
   <td style="text-align:right;"> 40 (55) </td>
   <td style="text-align:right;"> 1 (7) </td>
   <td style="text-align:right;"> 39 (67) </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Missing </td>
   <td style="text-align:right;"> 21 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 20 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
</tbody>
</table>> 
> 
> 
> cleanEx()
> nameEx("rm_mvsum")
> ### * rm_mvsum
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: rm_mvsum
> ### Title: Format a regression model nicely for 'Rmarkdown'
> ### Aliases: rm_mvsum
> 
> ### ** Examples
> 
> data("pembrolizumab")
> glm_fit = glm(change_ctdna_group~sex:age+baseline_ctdna+l_size,
+ data=pembrolizumab,family = 'binomial')
> rm_mvsum(glm_fit)
<table class="table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">  </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> OR(95%CI) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> p-value </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> N </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Event </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> VIF </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Baseline ctDNA</span> </td>
   <td style="text-align:right;"> 1.00 (1.00, 1.00) </td>
   <td style="text-align:right;"> 0.90 </td>
   <td style="text-align:right;"> 73 </td>
   <td style="text-align:right;"> 40 </td>
   <td style="text-align:right;"> 1.01 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Target lesion size at baseline</span> </td>
   <td style="text-align:right;"> 1.00 (0.99, 1.01) </td>
   <td style="text-align:right;"> 0.79 </td>
   <td style="text-align:right;"> 73 </td>
   <td style="text-align:right;"> 40 </td>
   <td style="text-align:right;"> 1.04 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">sex:age</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 40 </td>
   <td style="text-align:right;"> 21 </td>
   <td style="text-align:right;"> 1.02 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Female </td>
   <td style="text-align:right;"> Reference </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 40 </td>
   <td style="text-align:right;"> 21 </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> sexFemale:age </td>
   <td style="text-align:right;"> 0.96 (0.92, 1.00) </td>
   <td style="text-align:right;"> 0.050 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> sexMale:age </td>
   <td style="text-align:right;"> 0.97 (0.93, 1.00) </td>
   <td style="text-align:right;"> 0.075 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
</tbody>
</table>> 
> #linear model with p-value adjustment
> lm_fit=lm(baseline_ctdna~age+sex+l_size+tmb,data=pembrolizumab)
> rm_mvsum(lm_fit,p.adjust = "bonferroni")
<table class="table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">  </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Estimate(95%CI) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> p-value </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> N </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> VIF </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Age at study entry</span> </td>
   <td style="text-align:right;"> 1.11 (-10.19, 12.42) </td>
   <td style="text-align:right;"> 1.00 </td>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;"> 1.05 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Patient Sex</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;"> 1.03 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Female </td>
   <td style="text-align:right;"> Reference </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 58 </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Male </td>
   <td style="text-align:right;"> 32.22 (-260.52, 324.95) </td>
   <td style="text-align:right;"> 1.00 </td>
   <td style="text-align:right;"> 36 </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Target lesion size at baseline</span> </td>
   <td style="text-align:right;"> 1.27 (-1.16, 3.70) </td>
   <td style="text-align:right;"> 1.00 </td>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;"> 1.06 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">log of TMB</span> </td>
   <td style="text-align:right;"> 27.63 (-121.07, 176.33) </td>
   <td style="text-align:right;"> 1.00 </td>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;"> 1.05 </td>
  </tr>
</tbody>
</table>> #Coxph
> require(survival)
Loading required package: survival
> res.cox <- coxph(Surv(os_time, os_status) ~ sex+age+l_size+tmb, data = pembrolizumab)
> rm_mvsum(res.cox, vif=TRUE)
<table class="table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">  </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> HR(95%CI) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> p-value </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> N </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Event </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> VIF </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Patient Sex</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;"> 64 </td>
   <td style="text-align:right;"> 1.04 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Female </td>
   <td style="text-align:right;"> Reference </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 58 </td>
   <td style="text-align:right;"> 39 </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Male </td>
   <td style="text-align:right;"> 1.31 (0.78, 2.18) </td>
   <td style="text-align:right;"> 0.31 </td>
   <td style="text-align:right;"> 36 </td>
   <td style="text-align:right;"> 25 </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Age at study entry</span> </td>
   <td style="text-align:right;"> 0.99 (0.97, 1.01) </td>
   <td style="text-align:right;"> 0.21 </td>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;"> 64 </td>
   <td style="text-align:right;"> 1.07 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Target lesion size at baseline</span> </td>
   <td style="text-align:right;"> 1.00 (1.00, 1.01) </td>
   <td style="text-align:right;"> 0.42 </td>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;"> 64 </td>
   <td style="text-align:right;"> 1.06 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">log of TMB</span> </td>
   <td style="text-align:right;"> 0.84 (0.66, 1.07) </td>
   <td style="text-align:right;"> 0.15 </td>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;"> 64 </td>
   <td style="text-align:right;"> 1.02 </td>
  </tr>
</tbody>
</table>> 
> 
> 
> cleanEx()

detaching ‘package:survival’

> nameEx("rm_survdiff")
> ### * rm_survdiff
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: rm_survdiff
> ### Title: Display event counts, expected event counts and logrank test of
> ###   differences
> ### Aliases: rm_survdiff
> 
> ### ** Examples
> 
> #' # Differences between sex
> data("pembrolizumab")
> rm_survdiff(data=pembrolizumab,time='os_time',status='os_status',
+ covs='sex',digits=1)
<table class="table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> group </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> N </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Observed </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Expected </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Median (95%CI) </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Overall </td>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;"> 64 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 14.0 (9.0, 20.1) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Female </td>
   <td style="text-align:right;"> 58 </td>
   <td style="text-align:right;"> 39 </td>
   <td style="text-align:right;"> 41.8 </td>
   <td style="text-align:right;"> 14.3 (9.7, 23.8) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Male </td>
   <td style="text-align:right;"> 36 </td>
   <td style="text-align:right;"> 25 </td>
   <td style="text-align:right;"> 22.2 </td>
   <td style="text-align:right;"> 11.2 (6.1, 25.3) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Log Rank Test </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> ChiSq = 0.5 on 1 df </td>
  </tr>
  <tr>
   <td style="text-align:left;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> p-value = 0.46 </td>
  </tr>
</tbody>
</table>> 
> # Differences between sex, stratified by cohort
> rm_survdiff(data=pembrolizumab,time='os_time',status='os_status',
+ covs='sex',strata='cohort',digits=1)
<table class="table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> group </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> N </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Observed </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Expected </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Median (95%CI) </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Overall </td>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;"> 64 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 14.0 (9.0, 20.1) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Female </td>
   <td style="text-align:right;"> 58 </td>
   <td style="text-align:right;"> 39 </td>
   <td style="text-align:right;"> 43.0 </td>
   <td style="text-align:right;"> 14.3 (9.7, 23.8) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Male </td>
   <td style="text-align:right;"> 36 </td>
   <td style="text-align:right;"> 25 </td>
   <td style="text-align:right;"> 21.0 </td>
   <td style="text-align:right;"> 11.2 (6.1, 25.3) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Log Rank Test </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> ChiSq = 1.9 on 1 df </td>
  </tr>
  <tr>
   <td style="text-align:left;"> stratified by cohort </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> p-value = 0.17 </td>
  </tr>
</tbody>
</table>> # Differences between sex/cohort groups
> rm_survdiff(data=pembrolizumab,time='os_time',status='os_status',
+ covs=c('sex','cohort'),digits=1)
<table class="table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> group </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> N </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Observed </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Expected </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Median (95%CI) </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Overall </td>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;"> 64 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 14.0 (9.0, 20.1) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Female, A </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 2.3 </td>
   <td style="text-align:right;"> 18.2 (9.5, NA) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Female, B </td>
   <td style="text-align:right;"> 18 </td>
   <td style="text-align:right;"> 16 </td>
   <td style="text-align:right;"> 9.3 </td>
   <td style="text-align:right;"> 8.8 (4.7, 20.7) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Female, C </td>
   <td style="text-align:right;"> 18 </td>
   <td style="text-align:right;"> 12 </td>
   <td style="text-align:right;"> 14.4 </td>
   <td style="text-align:right;"> 17.6 (8.0, NA) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Female, D </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 5.7 </td>
   <td style="text-align:right;"> NA (3.5, NA) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Female, E </td>
   <td style="text-align:right;"> 12 </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:right;"> 10.1 </td>
   <td style="text-align:right;"> 20.2 (9.7, NA) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Male, A </td>
   <td style="text-align:right;"> 13 </td>
   <td style="text-align:right;"> 10 </td>
   <td style="text-align:right;"> 5.9 </td>
   <td style="text-align:right;"> 6.5 (3.4, NA) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Male, D </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 4.5 </td>
   <td style="text-align:right;"> NA (6.4, NA) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Male, E </td>
   <td style="text-align:right;"> 18 </td>
   <td style="text-align:right;"> 13 </td>
   <td style="text-align:right;"> 11.7 </td>
   <td style="text-align:right;"> 14.0 (5.0, NA) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Log Rank Test </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> ChiSq = 13.4 on 7 df </td>
  </tr>
  <tr>
   <td style="text-align:left;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> p-value = 0.063 </td>
  </tr>
</tbody>
</table>> 
> 
> 
> cleanEx()
> nameEx("rm_survsum")
> ### * rm_survsum
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: rm_survsum
> ### Title: Summarise survival data by group
> ### Aliases: rm_survsum
> 
> ### ** Examples
> 
> # Simple median survival table
> data("pembrolizumab")
> rm_survsum(data=pembrolizumab,time='os_time',status='os_status')
<table class="table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> Events/Total </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Median (95%CI) </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> 64/94 </td>
   <td style="text-align:right;"> 13.96 (9.00, 20.14) </td>
  </tr>
</tbody>
</table>> 
> # Survival table with yearly survival rates
> rm_survsum(data=pembrolizumab,time='os_time',status='os_status',
+ survtimes=c(12,24),survtimesLbls=1:2, survtimeunit='yr')
<table class="table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> Events/Total </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Median (95%CI) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> 1yr (95% CI) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> 2yr (95% CI) </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> 64/94 </td>
   <td style="text-align:right;"> 13.96 (9.00, 20.14) </td>
   <td style="text-align:right;"> 0.53 (0.44, 0.64) </td>
   <td style="text-align:right;"> 0.33 (0.24, 0.44) </td>
  </tr>
</tbody>
</table>> 
> #Median survival by group
> rm_survsum(data=pembrolizumab,time='os_time',status='os_status',group='sex')
<table class="table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> Group </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Events/Total </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Median (95%CI) </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Female </td>
   <td style="text-align:right;"> 39/58 </td>
   <td style="text-align:right;"> 14.29 (9.69, 23.82) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Male </td>
   <td style="text-align:right;"> 25/36 </td>
   <td style="text-align:right;"> 11.24 (6.14, 25.33) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Log Rank Test </td>
   <td style="text-align:right;"> ChiSq </td>
   <td style="text-align:right;"> 0.5 on 1 df </td>
  </tr>
  <tr>
   <td style="text-align:left;">  </td>
   <td style="text-align:right;"> p-value </td>
   <td style="text-align:right;"> 0.46 </td>
  </tr>
</tbody>
</table>> 
> # Survival Summary by cohort, displayed in years
> rm_survsum(data=pembrolizumab,time='os_time',status='os_status',
+ group="cohort",survtimes=seq(12,72,12),
+ survtimesLbls=seq(1,6,1),
+ survtimeunit='years')
<table class="table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> Group </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Events/Total </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Median (95%CI) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> 1years (95% CI) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> 2years (95% CI) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> 3years (95% CI) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> 4years (95% CI) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> 5years (95% CI) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> 6years (95% CI) </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> A </td>
   <td style="text-align:right;"> 12/16 </td>
   <td style="text-align:right;"> 8.30 (4.24, Not Estimable) </td>
   <td style="text-align:right;"> 0.38 (0.20, 0.71) </td>
   <td style="text-align:right;"> 0.23 (0.09, 0.59) </td>
   <td style="text-align:right;"> 0.23 (0.09, 0.59) </td>
   <td style="text-align:right;"> 0.23 (0.09, 0.59) </td>
   <td style="text-align:right;"> 0.23 (0.09, 0.59) </td>
   <td style="text-align:right;"> 0.23 (0.09, 0.59) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> B </td>
   <td style="text-align:right;"> 16/18 </td>
   <td style="text-align:right;"> 8.82 (4.67, 20.73) </td>
   <td style="text-align:right;"> 0.32 (0.16, 0.64) </td>
   <td style="text-align:right;"> 0.06 (9.6e-03, 0.42) </td>
   <td style="text-align:right;"> 0.06 (9.6e-03, 0.42) </td>
   <td style="text-align:right;"> 0.06 (9.6e-03, 0.42) </td>
   <td style="text-align:right;"> 0.06 (9.6e-03, 0.42) </td>
   <td style="text-align:right;"> 0.06 (9.6e-03, 0.42) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> C </td>
   <td style="text-align:right;"> 12/18 </td>
   <td style="text-align:right;"> 17.56 (7.95, Not Estimable) </td>
   <td style="text-align:right;"> 0.61 (0.42, 0.88) </td>
   <td style="text-align:right;"> 0.44 (0.27, 0.74) </td>
   <td style="text-align:right;"> 0.31 (0.15, 0.64) </td>
   <td style="text-align:right;"> 0.31 (0.15, 0.64) </td>
   <td style="text-align:right;"> 0.31 (0.15, 0.64) </td>
   <td style="text-align:right;"> 0.31 (0.15, 0.64) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> D </td>
   <td style="text-align:right;"> 4/12 </td>
   <td style="text-align:right;"> Not Estimable (6.44, Not Estimable) </td>
   <td style="text-align:right;"> 0.67 (0.45, 0.99) </td>
   <td style="text-align:right;"> 0.67 (0.45, 0.99) </td>
   <td style="text-align:right;"> 0.67 (0.45, 0.99) </td>
   <td style="text-align:right;"> 0.67 (0.45, 0.99) </td>
   <td style="text-align:right;"> 0.67 (0.45, 0.99) </td>
   <td style="text-align:right;"> 0.67 (0.45, 0.99) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> E </td>
   <td style="text-align:right;"> 20/30 </td>
   <td style="text-align:right;"> 14.26 (9.69, Not Estimable) </td>
   <td style="text-align:right;"> 0.63 (0.48, 0.83) </td>
   <td style="text-align:right;"> 0.34 (0.20, 0.57) </td>
   <td style="text-align:right;"> 0.29 (0.15, 0.53) </td>
   <td style="text-align:right;"> 0.29 (0.15, 0.53) </td>
   <td style="text-align:right;"> 0.29 (0.15, 0.53) </td>
   <td style="text-align:right;"> 0.29 (0.15, 0.53) </td>
  </tr>
  <tr>
   <td style="text-align:left;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> Log Rank Test </td>
   <td style="text-align:right;"> ChiSq </td>
   <td style="text-align:right;"> 11.3 on 4 df </td>
  </tr>
  <tr>
   <td style="text-align:left;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> p-value </td>
   <td style="text-align:right;"> 0.023 </td>
  </tr>
</tbody>
</table>> 
> # Survival Summary by Sex and ctDNA group
> rm_survsum(data=pembrolizumab,time='os_time',status='os_status',
+ group=c('sex','change_ctdna_group'),survtimes=c(12,24),survtimeunit='mo')
21 observations with missing data were removed.
<table class="table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> Group </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Events/Total </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Median (95%CI) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> 12mo (95% CI) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> 24mo (95% CI) </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Female, Decrease from baseline </td>
   <td style="text-align:right;"> 7/19 </td>
   <td style="text-align:right;"> Not Estimable (23.82, Not Estimable) </td>
   <td style="text-align:right;"> 0.84 (0.69, 1.00) </td>
   <td style="text-align:right;"> 0.67 (0.48, 0.93) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Female, Increase from baseline </td>
   <td style="text-align:right;"> 17/21 </td>
   <td style="text-align:right;"> 13.90 (7.89, 27.47) </td>
   <td style="text-align:right;"> 0.52 (0.35, 0.79) </td>
   <td style="text-align:right;"> 0.24 (0.11, 0.51) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Male, Decrease from baseline </td>
   <td style="text-align:right;"> 7/14 </td>
   <td style="text-align:right;"> 25.33 (14.26, Not Estimable) </td>
   <td style="text-align:right;"> 0.71 (0.51, 0.99) </td>
   <td style="text-align:right;"> 0.55 (0.34, 0.90) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> Male, Increase from baseline </td>
   <td style="text-align:right;"> 15/19 </td>
   <td style="text-align:right;"> 6.54 (5.68, Not Estimable) </td>
   <td style="text-align:right;"> 0.42 (0.25, 0.71) </td>
   <td style="text-align:right;"> 0.16 (0.05, 0.51) </td>
  </tr>
  <tr>
   <td style="text-align:left;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> Log Rank Test </td>
   <td style="text-align:right;"> ChiSq </td>
   <td style="text-align:right;"> 15.1 on 3 df </td>
  </tr>
  <tr>
   <td style="text-align:left;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> p-value </td>
   <td style="text-align:right;"> 0.002 </td>
  </tr>
</tbody>
</table>> 
> 
> 
> 
> cleanEx()
> nameEx("rm_survtime")
> ### * rm_survtime
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: rm_survtime
> ### Title: Display survival rates and events for specified times
> ### Aliases: rm_survtime
> 
> ### ** Examples
> 
> # Kaplan-Mieir survival probabilities with time displayed in years
> data("pembrolizumab")
> rm_survtime(data=pembrolizumab,time='os_time',status='os_status',
+ strata="cohort",type='KM',survtimes=seq(12,72,12),
+ survtimesLbls=seq(1,6,1),
+ survtimeunit='years')
<table class="table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> Time (years) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> At Risk </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Events </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Censored </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Survival Rate (95% CI) </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Overall </td>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 12 </td>
   <td style="text-align:right;"> 48 </td>
   <td style="text-align:right;"> 44 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 0.53 (0.44, 0.64) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 24 </td>
   <td style="text-align:right;"> 24 </td>
   <td style="text-align:right;"> 17 </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:right;"> 0.33 (0.24, 0.44) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 36 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 21 </td>
   <td style="text-align:right;"> 0.28 (0.20, 0.40) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> A </td>
   <td style="text-align:right;"> 16 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 12 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 10 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0.38 (0.20, 0.71) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 24 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 0.23 (0.09, 0.59) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 36 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0.23 (0.09, 0.59) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> B </td>
   <td style="text-align:right;"> 18 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 12 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 12 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0.32 (0.16, 0.64) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 24 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0.06 (9.6e-03, 0.42) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> C </td>
   <td style="text-align:right;"> 18 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 12 </td>
   <td style="text-align:right;"> 11 </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0.61 (0.42, 0.88) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 24 </td>
   <td style="text-align:right;"> 8 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0.44 (0.27, 0.74) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 36 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 0.31 (0.15, 0.64) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> D </td>
   <td style="text-align:right;"> 12 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 12 </td>
   <td style="text-align:right;"> 8 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0.67 (0.45, 0.99) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 24 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 0.67 (0.45, 0.99) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 36 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 0.67 (0.45, 0.99) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> E </td>
   <td style="text-align:right;"> 30 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 12 </td>
   <td style="text-align:right;"> 18 </td>
   <td style="text-align:right;"> 11 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0.63 (0.48, 0.83) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 24 </td>
   <td style="text-align:right;"> 9 </td>
   <td style="text-align:right;"> 8 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0.34 (0.20, 0.57) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 36 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 8 </td>
   <td style="text-align:right;"> 0.29 (0.15, 0.53) </td>
  </tr>
</tbody>
</table>> 
> # Cox Proportional Hazards survivial probabilities
> rm_survtime(data=pembrolizumab,time='os_time',status='os_status',
+ strata="cohort",type='PH',survtimes=seq(12,72,12),survtimeunit='months')
<table class="table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> Time (months) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> At Risk </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Events </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Censored </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Survival Rate (95% CI) </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Overall </td>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 12 </td>
   <td style="text-align:right;"> 48 </td>
   <td style="text-align:right;"> 44 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 0.53 (0.44, 0.64) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 24 </td>
   <td style="text-align:right;"> 24 </td>
   <td style="text-align:right;"> 17 </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:right;"> 0.33 (0.25, 0.45) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 36 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 21 </td>
   <td style="text-align:right;"> 0.28 (0.20, 0.40) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> A </td>
   <td style="text-align:right;"> 16 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 12 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 10 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0.39 (0.22, 0.72) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 24 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 0.26 (0.11, 0.60) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 36 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0.26 (0.11, 0.60) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> B </td>
   <td style="text-align:right;"> 18 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 12 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 12 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0.34 (0.18, 0.65) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 24 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0.09 (0.02, 0.41) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> C </td>
   <td style="text-align:right;"> 18 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 12 </td>
   <td style="text-align:right;"> 11 </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0.62 (0.44, 0.89) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 24 </td>
   <td style="text-align:right;"> 8 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0.46 (0.28, 0.75) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 36 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 0.33 (0.17, 0.65) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> D </td>
   <td style="text-align:right;"> 12 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 12 </td>
   <td style="text-align:right;"> 8 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0.68 (0.47, 0.99) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 24 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 0.68 (0.47, 0.99) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 36 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 0.68 (0.47, 0.99) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> E </td>
   <td style="text-align:right;"> 30 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 12 </td>
   <td style="text-align:right;"> 18 </td>
   <td style="text-align:right;"> 11 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0.64 (0.49, 0.83) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 24 </td>
   <td style="text-align:right;"> 9 </td>
   <td style="text-align:right;"> 8 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0.35 (0.22, 0.58) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 36 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 8 </td>
   <td style="text-align:right;"> 0.30 (0.17, 0.54) </td>
  </tr>
</tbody>
</table>> 
> # Cox Proportional Hazards survivial probabilities controlling for age
> rm_survtime(data=pembrolizumab,time='os_time',status='os_status',
+ covs='age',strata="cohort",survtimes=seq(12,72,12),survtimeunit='months')
<table class="table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> Time (months) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> At Risk </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Events </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Censored </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Survival Rate (95% CI) </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> Overall </td>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 12 </td>
   <td style="text-align:right;"> 48 </td>
   <td style="text-align:right;"> 44 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 0.54 (0.44, 0.65) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 24 </td>
   <td style="text-align:right;"> 24 </td>
   <td style="text-align:right;"> 17 </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:right;"> 0.33 (0.25, 0.45) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 36 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 21 </td>
   <td style="text-align:right;"> 0.28 (0.20, 0.40) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> A </td>
   <td style="text-align:right;"> 16 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 12 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 10 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0.39 (0.22, 0.72) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 24 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 0.26 (0.11, 0.60) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 36 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0.26 (0.11, 0.60) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> B </td>
   <td style="text-align:right;"> 18 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 12 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> 12 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0.33 (0.17, 0.65) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 24 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0.07 (0.01, 0.45) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> C </td>
   <td style="text-align:right;"> 18 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 12 </td>
   <td style="text-align:right;"> 11 </td>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0.65 (0.46, 0.92) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 24 </td>
   <td style="text-align:right;"> 8 </td>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0.47 (0.29, 0.78) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 36 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 0.32 (0.16, 0.68) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> D </td>
   <td style="text-align:right;"> 12 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 12 </td>
   <td style="text-align:right;"> 8 </td>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0.70 (0.48, 1.00) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 24 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> 0.70 (0.48, 1.00) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 36 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> 0.70 (0.48, 1.00) </td>
  </tr>
  <tr>
   <td style="text-align:left;"> E </td>
   <td style="text-align:right;"> 30 </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 12 </td>
   <td style="text-align:right;"> 18 </td>
   <td style="text-align:right;"> 11 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0.64 (0.49, 0.84) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 24 </td>
   <td style="text-align:right;"> 9 </td>
   <td style="text-align:right;"> 8 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 0.35 (0.22, 0.58) </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> 36 </td>
   <td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> 8 </td>
   <td style="text-align:right;"> 0.30 (0.16, 0.54) </td>
  </tr>
</tbody>
</table>> 
> 
> 
> 
> cleanEx()
> nameEx("rm_uv_mv")
> ### * rm_uv_mv
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: rm_uv_mv
> ### Title: Combine univariate and multivariable regression tables
> ### Aliases: rm_uv_mv
> 
> ### ** Examples
> 
> require(survival)
Loading required package: survival
> data("pembrolizumab")
> uvTab <- rm_uvsum(response = c('os_time','os_status'),
+ covs=c('age','sex','baseline_ctdna','l_size','change_ctdna_group'),
+ data=pembrolizumab,tableOnly=TRUE)
> mv_surv_fit <- coxph(Surv(os_time,os_status)~age+sex+
+ baseline_ctdna+l_size+change_ctdna_group, data=pembrolizumab)
> uvTab <- rm_mvsum(mv_surv_fit)
> 
> #linear model
> uvtab<-rm_uvsum(response = 'baseline_ctdna',
+ covs=c('age','sex','l_size','pdl1','tmb'),
+ data=pembrolizumab,tableOnly=TRUE)
> lm_fit=lm(baseline_ctdna~age+sex+l_size+tmb,data=pembrolizumab)
> mvtab<-rm_mvsum(lm_fit,tableOnly = TRUE)
> rm_uv_mv(uvtab,mvtab,tableOnly=TRUE)
                       Covariate Unadjusted Estimate(95%CI)    p
1             Age at study entry       0.82 (-10.13, 11.76) 0.88
5                    Patient Sex                       <NA> <NA>
3                         Female                  Reference <NA>
4                           Male    56.61 (-228.71, 341.93) 0.69
6 Target lesion size at baseline         1.21 (-1.12, 3.54) 0.31
2                  PD L1 percent        -3.50 (-8.27, 1.27) 0.15
7                     log of TMB    18.78 (-125.18, 162.74) 0.80
  Adjusted Estimate(95%CI) p (adj)
1     1.11 (-10.19, 12.42)    0.85
5                     <NA>    <NA>
3                Reference    <NA>
4  32.22 (-260.52, 324.95)    0.83
6       1.27 (-1.16, 3.70)    0.30
2                     <NA>    <NA>
7  27.63 (-121.07, 176.33)    0.71
> 
> #logistic model
> uvtab<-rm_uvsum(response = 'os_status',
+ covs=c('age','sex','l_size','pdl1','tmb'),
+ data=pembrolizumab,family = binomial,tableOnly=TRUE)
> logis_fit<-glm(os_status~age+sex+l_size+pdl1+tmb,data = pembrolizumab,family = 'binomial')
> mvtab<-rm_mvsum(logis_fit,tableOnly = TRUE)
> rm_uv_mv(uvtab,mvtab,tableOnly=TRUE)
                       Covariate Unadjusted OR(95%CI)     p Adjusted OR(95%CI)
1             Age at study entry    0.98 (0.94, 1.01)  0.19  0.97 (0.93, 1.01)
5                    Patient Sex                 <NA>  <NA>               <NA>
3                         Female            Reference  <NA>          Reference
4                           Male    1.11 (0.46, 2.77)  0.82  1.16 (0.44, 3.20)
6 Target lesion size at baseline    1.00 (1.00, 1.01)  0.37  1.00 (0.99, 1.01)
2                  PD L1 percent    0.98 (0.96, 1.00) 0.013  0.98 (0.96, 1.00)
7                     log of TMB    0.70 (0.44, 1.10)  0.13  0.76 (0.47, 1.22)
  p (adj)
1    0.14
5    <NA>
3    <NA>
4    0.77
6    0.97
2   0.014
7    0.25
> 
> 
> 
> cleanEx()

detaching ‘package:survival’

> nameEx("rm_uvsum")
> ### * rm_uvsum
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: rm_uvsum
> ### Title: Output several univariate models nicely in a single table
> ### Aliases: rm_uvsum
> 
> ### ** Examples
> 
> # Examples are for demonstration and are not meaningful
> # Coxph model with 90% CI
> data("pembrolizumab")
> rm_uvsum(response = c('os_time','os_status'),
+ covs=c('age','sex','baseline_ctdna','l_size','change_ctdna_group'),
+ data=pembrolizumab,CIwidth=.9)
<table class="table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">  </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> HR(90%CI) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> p-value </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> N </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Event </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Age at study entry</span> </td>
   <td style="text-align:right;"> 0.99 (0.97, 1.00) </td>
   <td style="text-align:right;"> 0.16 </td>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;"> 64 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Patient Sex</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;"> 64 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Female </td>
   <td style="text-align:right;"> Reference </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 58 </td>
   <td style="text-align:right;"> 39 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Male </td>
   <td style="text-align:right;"> 1.21 (0.79, 1.84) </td>
   <td style="text-align:right;"> 0.46 </td>
   <td style="text-align:right;"> 36 </td>
   <td style="text-align:right;"> 25 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Baseline ctDNA</span> </td>
   <td style="text-align:right;"> 1.00 (1.00, 1.00) </td>
   <td style="text-align:right;"> <span style="font-weight: bold;">0.019</span> </td>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;"> 64 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Target lesion size at baseline</span> </td>
   <td style="text-align:right;"> 1.00 (1.00, 1.01) </td>
   <td style="text-align:right;"> 0.20 </td>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;"> 64 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Did ctDNA increase or decrease from baseline to cycle 3</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 73 </td>
   <td style="text-align:right;"> 46 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Decrease from baseline </td>
   <td style="text-align:right;"> Reference </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 33 </td>
   <td style="text-align:right;"> 14 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Increase from baseline </td>
   <td style="text-align:right;"> 3.06 (1.79, 5.21) </td>
   <td style="text-align:right;"> <span style="font-weight: bold;">&lt;0.001</span> </td>
   <td style="text-align:right;"> 40 </td>
   <td style="text-align:right;"> 32 </td>
  </tr>
</tbody>
</table>> 
> # Linear model with default 95% CI
> rm_uvsum(response = 'baseline_ctdna',
+ covs=c('age','sex','l_size','pdl1','tmb'),
+ data=pembrolizumab)
<table class="table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">  </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Estimate(95%CI) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> p-value </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> N </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Age at study entry</span> </td>
   <td style="text-align:right;"> 0.82 (-10.13, 11.76) </td>
   <td style="text-align:right;"> 0.88 </td>
   <td style="text-align:right;"> 94 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Patient Sex</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 94 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Female </td>
   <td style="text-align:right;"> Reference </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 58 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Male </td>
   <td style="text-align:right;"> 56.61 (-228.71, 341.93) </td>
   <td style="text-align:right;"> 0.69 </td>
   <td style="text-align:right;"> 36 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Target lesion size at baseline</span> </td>
   <td style="text-align:right;"> 1.21 (-1.12, 3.54) </td>
   <td style="text-align:right;"> 0.31 </td>
   <td style="text-align:right;"> 94 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">PD L1 percent</span> </td>
   <td style="text-align:right;"> -3.50 (-8.27, 1.27) </td>
   <td style="text-align:right;"> 0.15 </td>
   <td style="text-align:right;"> 93 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">log of TMB</span> </td>
   <td style="text-align:right;"> 18.78 (-125.18, 162.74) </td>
   <td style="text-align:right;"> 0.80 </td>
   <td style="text-align:right;"> 94 </td>
  </tr>
</tbody>
</table>> 
> # Logistic model with default 95% CI
> rm_uvsum(response = 'os_status',
+ covs=c('age','sex','l_size','pdl1','tmb'),
+ data=pembrolizumab,family = binomial)
<table class="table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">  </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> OR(95%CI) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> p-value </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> N </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Event </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Age at study entry</span> </td>
   <td style="text-align:right;"> 0.98 (0.94, 1.01) </td>
   <td style="text-align:right;"> 0.19 </td>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;"> 64 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Patient Sex</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;"> 64 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Female </td>
   <td style="text-align:right;"> Reference </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 58 </td>
   <td style="text-align:right;"> 39 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Male </td>
   <td style="text-align:right;"> 1.11 (0.46, 2.77) </td>
   <td style="text-align:right;"> 0.82 </td>
   <td style="text-align:right;"> 36 </td>
   <td style="text-align:right;"> 25 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Target lesion size at baseline</span> </td>
   <td style="text-align:right;"> 1.00 (1.00, 1.01) </td>
   <td style="text-align:right;"> 0.37 </td>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;"> 64 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">PD L1 percent</span> </td>
   <td style="text-align:right;"> 0.98 (0.96, 1.00) </td>
   <td style="text-align:right;"> <span style="font-weight: bold;">0.013</span> </td>
   <td style="text-align:right;"> 93 </td>
   <td style="text-align:right;"> 63 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">log of TMB</span> </td>
   <td style="text-align:right;"> 0.70 (0.44, 1.10) </td>
   <td style="text-align:right;"> 0.13 </td>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;"> 64 </td>
  </tr>
</tbody>
</table>> # Poisson models returned as model list
> mList <- rm_uvsum(response = 'baseline_ctdna',
+ covs=c('age','sex','l_size','pdl1','tmb'),
+ data=pembrolizumab, returnModels=TRUE)
> #'
> # GEE on correlated outcomes
> data("ctDNA")
> rm_uvsum(response = 'size_change',
+ covs=c('time','ctdna_status'),
+ gee=TRUE,
+ id='id', corstr="exchangeable",
+ family=gaussian("identity"),
+ data=ctDNA,showN=TRUE)
Warning in rm_uvsum(response = "size_change", covs = c("time", "ctdna_status"),  :
  Cases with missing response data have been removed.
 8 case(s) removed.
8 observations with missing outcome removed.
<table class="table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">  </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Estimate(95%CI) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> p-value </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> N </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Number of weeks on treatment</span> </td>
   <td style="text-align:right;"> -0.12 (-0.44, 0.19) </td>
   <td style="text-align:right;"> 0.44 </td>
   <td style="text-align:right;"> 262 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Change in ctDNA since baseline</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 262 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Clearance </td>
   <td style="text-align:right;"> Reference </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 134 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> No clearance, decrease from baseline </td>
   <td style="text-align:right;"> 61.29 (37.49, 85.09) </td>
   <td style="text-align:right;"> <span style="font-weight: bold;">&lt;0.001</span> </td>
   <td style="text-align:right;"> 42 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> No clearance, increase from baseline </td>
   <td style="text-align:right;"> 82.52 (64.75, 100.28) </td>
   <td style="text-align:right;"> <span style="font-weight: bold;">&lt;0.001</span> </td>
   <td style="text-align:right;"> 86 </td>
  </tr>
</tbody>
</table>> 
> # Using tidyselect
> pembrolizumab |> rm_uvsum(response = sex,
+ covs = c(age, cohort))
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning: glm.fit: algorithm did not converge
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning: glm.fit: fitted probabilities numerically 0 or 1 occurred
Warning in regularize.values(x, y, ties, missing(ties), na.rm = na.rm) :
  collapsing to unique 'x' values
<table class="table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">  </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> OR(95%CI) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> p-value </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> N </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Event </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Age at study entry</span> </td>
   <td style="text-align:right;"> 1.02 (0.98, 1.05) </td>
   <td style="text-align:right;"> 0.38 </td>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;"> 36 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Study Cohort</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 94 </td>
   <td style="text-align:right;"> 36 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> A </td>
   <td style="text-align:right;"> Reference </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 16 </td>
   <td style="text-align:right;"> 13 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> B </td>
   <td style="text-align:right;"> 7.3e-10 (0e+00, 3.9e+41) </td>
   <td style="text-align:right;"> 0.99 </td>
   <td style="text-align:right;"> 18 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> C </td>
   <td style="text-align:right;"> 7.3e-10 (NA, 3e+55) </td>
   <td style="text-align:right;"> 0.99 </td>
   <td style="text-align:right;"> 18 </td>
   <td style="text-align:right;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> D </td>
   <td style="text-align:right;"> 0.16 (0.03, 0.84) </td>
   <td style="text-align:right;"> <span style="font-weight: bold;">0.038</span> </td>
   <td style="text-align:right;"> 12 </td>
   <td style="text-align:right;"> 5 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> E </td>
   <td style="text-align:right;"> 0.35 (0.07, 1.36) </td>
   <td style="text-align:right;"> 0.15 </td>
   <td style="text-align:right;"> 30 </td>
   <td style="text-align:right;"> 18 </td>
  </tr>
</tbody>
</table>> 
> 
> 
> cleanEx()
> nameEx("scrolling_table")
> ### * scrolling_table
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: scrolling_table
> ### Title: Output a scrollable table
> ### Aliases: scrolling_table
> 
> ### ** Examples
> 
> data("pembrolizumab")
> tab <- rm_covsum(data=pembrolizumab,maincov = 'change_ctdna_group',
+ covs=c('age','cohort','sex','pdl1','tmb','l_size'),full=F)
Warning in wilcox.test.default(x = DATA[[1L]], y = DATA[[2L]], ...) :
  cannot compute exact p-value with ties
Warning in wilcox.test.default(x = DATA[[1L]], y = DATA[[2L]], ...) :
  cannot compute exact p-value with ties
> scrolling_table(tab,pixelHeight=300)
<div style="border: 1px solid #ddd; padding: 0px; overflow-y: scroll; height:300px;; "><table class="table table" style="margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;">
 <thead>
  <tr>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;">  </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;"> Decrease from baseline (n=33) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;"> Increase from baseline (n=40) </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;position: sticky; top:0; background-color: #FFFFFF;"> p-value </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Age at study entry</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 0.083 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Mean (sd) </td>
   <td style="text-align:right;"> 61.2 (11.6) </td>
   <td style="text-align:right;"> 55.2 (14.3) </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Median (Min,Max) </td>
   <td style="text-align:right;"> 65.1 (34.1, 78.2) </td>
   <td style="text-align:right;"> 57.0 (21.1, 81.8) </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Study Cohort</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 0.18 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> A </td>
   <td style="text-align:right;"> 6 (18) </td>
   <td style="text-align:right;"> 8 (20) </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> B </td>
   <td style="text-align:right;"> 4 (12) </td>
   <td style="text-align:right;"> 7 (17) </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> C </td>
   <td style="text-align:right;"> 5 (15) </td>
   <td style="text-align:right;"> 5 (12) </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> D </td>
   <td style="text-align:right;"> 8 (24) </td>
   <td style="text-align:right;"> 2 (5) </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> E </td>
   <td style="text-align:right;"> 10 (30) </td>
   <td style="text-align:right;"> 18 (45) </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Patient Sex</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 0.84 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Female </td>
   <td style="text-align:right;"> 19 (58) </td>
   <td style="text-align:right;"> 21 (52) </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Male </td>
   <td style="text-align:right;"> 14 (42) </td>
   <td style="text-align:right;"> 19 (48) </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">PD L1 percent</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 0.26 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Mean (sd) </td>
   <td style="text-align:right;"> 23.3 (38.1) </td>
   <td style="text-align:right;"> 8.3 (21.8) </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Median (Min,Max) </td>
   <td style="text-align:right;"> 1 (0, 100) </td>
   <td style="text-align:right;"> 0.5 (0.0, 95.0) </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">log of TMB</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 0.42 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Mean (sd) </td>
   <td style="text-align:right;"> 1.2 (1.3) </td>
   <td style="text-align:right;"> 0.8 (0.7) </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Median (Min,Max) </td>
   <td style="text-align:right;"> 0.8 (-0.5, 5.2) </td>
   <td style="text-align:right;"> 0.7 (-0.8, 3.2) </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;"> <span style="font-weight: bold;">Target lesion size at baseline</span> </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;">  </td>
   <td style="text-align:right;"> 0.33 </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Mean (sd) </td>
   <td style="text-align:right;"> 84.1 (71.0) </td>
   <td style="text-align:right;"> 87.4 (49.8) </td>
   <td style="text-align:right;">  </td>
  </tr>
  <tr>
   <td style="text-align:left;padding-left: 2em;" indentlevel="1"> Median (Min,Max) </td>
   <td style="text-align:right;"> 64 (11, 387) </td>
   <td style="text-align:right;"> 76.5 (15.0, 267.0) </td>
   <td style="text-align:right;">  </td>
  </tr>
</tbody>
</table></div>> 
> 
> 
> cleanEx()
> nameEx("set_labels")
> ### * set_labels
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: set_labels
> ### Title: Set variable labels
> ### Aliases: set_labels
> 
> ### ** Examples
> 
> data("ctDNA")
> # create data frame with labels
> lbls <- data.frame(c1=c('cohort','size_change'),
+ c2=c('Cancer cohort','Change in tumour size'))
> # set labels and return labelled data frame
> set_labels(ctDNA,lbls)
# A tibble: 270 × 5
   id        cohort ctdna_status                          time size_change
   <chr>     <fct>  <fct>                                <dbl>       <dbl>
 1 INS-A-002 A      No clearance, increase from baseline  8.12         5.7
 2 INS-A-002 A      No clearance, increase from baseline 12.4         NA  
 3 INS-A-003 A      No clearance, increase from baseline  6.12        41.7
 4 INS-A-007 A      No clearance, decrease from baseline  8.83       -45.5
 5 INS-A-007 A      No clearance, decrease from baseline 16.8        -72.7
 6 INS-A-007 A      No clearance, decrease from baseline 25.8        -63.6
 7 INS-A-007 A      No clearance, decrease from baseline 37.0        -54.5
 8 INS-A-007 A      No clearance, decrease from baseline 43.3        -54.5
 9 INS-A-007 A      No clearance, decrease from baseline 49.0       -100  
10 INS-A-007 A      No clearance, decrease from baseline 60.0       -100  
# ℹ 260 more rows
> 
> 
> 
> cleanEx()
> nameEx("set_var_labels")
> ### * set_var_labels
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: set_var_labels
> ### Title: Set variable labels
> ### Aliases: set_var_labels
> 
> ### ** Examples
> 
> # set labels using name-label pairs
> # and return labelled data frame
> data("ctDNA")
> ctDNA |> set_var_labels(
+    ctdna_status="detectable ctDNA",
+   cohort="A cohort label")
# A tibble: 270 × 5
   id        cohort ctdna_status                          time size_change
   <chr>     <fct>  <fct>                                <dbl>       <dbl>
 1 INS-A-002 A      No clearance, increase from baseline  8.12         5.7
 2 INS-A-002 A      No clearance, increase from baseline 12.4         NA  
 3 INS-A-003 A      No clearance, increase from baseline  6.12        41.7
 4 INS-A-007 A      No clearance, decrease from baseline  8.83       -45.5
 5 INS-A-007 A      No clearance, decrease from baseline 16.8        -72.7
 6 INS-A-007 A      No clearance, decrease from baseline 25.8        -63.6
 7 INS-A-007 A      No clearance, decrease from baseline 37.0        -54.5
 8 INS-A-007 A      No clearance, decrease from baseline 43.3        -54.5
 9 INS-A-007 A      No clearance, decrease from baseline 49.0       -100  
10 INS-A-007 A      No clearance, decrease from baseline 60.0       -100  
# ℹ 260 more rows
> 
> 
> 
> cleanEx()
> nameEx("xcn")
> ### * xcn
> 
> flush(stderr()); flush(stdout())
> 
> ### Name: xcn
> ### Title: Convert Excel column letters to numbers
> ### Aliases: xcn
> ### Keywords: internal
> 
> ### ** Examples
> 
> ## Not run: 
> ##D xcn("A")   # Returns 1
> ##D xcn("Z")   # Returns 26
> ##D xcn("AA")  # Returns 27
> ## End(Not run)
> 
> 
> 
> ### * <FOOTER>
> ###
> cleanEx()
> options(digits = 7L)
> base::cat("Time elapsed: ", proc.time() - base::get("ptime", pos = 'CheckExEnv'),"\n")
Time elapsed:  4.507 0.195 9.855 0 0 
> grDevices::dev.off()
null device 
          1 
> ###
> ### Local variables: ***
> ### mode: outline-minor ***
> ### outline-regexp: "\\(> \\)?### [*]+" ***
> ### End: ***
> quit('no')
